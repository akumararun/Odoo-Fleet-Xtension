<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
	
	<record model="ir.actions.act_window" id="action_last_vehicle_issue_board">
            <field name="name">Latest Vehicle Issues</field>
            <field name="res_model">fleet.vehicle.issue</field>
            <field name="view_type">form</field>
            <field name="limit">7</field>
            <field name="domain">[('state', '=', 'confirm')]</field>
            <field name="context">{}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Issues recorded against vehicles are shown here
              </p>
            </field>
        </record>


<record model='ir.ui.view' id='fleet_vehicle_costmon_tree'>
            <field name="name">fleet.vehicle.cost.tree</field>
            <field name="model">fleet.vehicle</field>
            <field name="arch" type="xml">
                <tree string="Vehicles" default_order="costpmon desc">
                    <field name="name" />
                    <field name="costpmon" />
                </tree>
            </field>
        </record>
	
	 <record model="ir.actions.act_window" id="action_costmon_most_board">
            <field name="name">Most Expensive</field>
            <field name="res_model">fleet.vehicle</field>
            <field name="view_type">form</field>
            <field name="limit">7</field>
            <field name="context">{}</field>
            <field name="view_id" eval="fleet_vehicle_costmon_tree"/>
        </record>
        
        <record model='ir.ui.view' id='fleet_vehicle_costkm_tree'>
            <field name="name">fleet.vehicle.cost.tree</field>
            <field name="model">fleet.vehicle</field>
            <field name="arch" type="xml">
                <tree string="Vehicles" default_order="costpm desc">
                    <field name="name" />
                    <field name="costpm" />
                </tree>
            </field>
        </record>
	
	 <record model="ir.actions.act_window" id="action_costkm_most_board">
            <field name="name">Most Expensive</field>
            <field name="res_model">fleet.vehicle</field>
            <field name="view_type">form</field>
            <field name="limit">7</field>
            <field name="context">{}</field>
            <field name="view_id" eval="fleet_vehicle_costkm_tree"/>
        </record>
	

      
         <record model='ir.ui.view' id='fleet_report_vehicle_cost_department_tree'>
            <field name="name">report.vehicle.cost.tree</field>
            <field name="model">report.vehicle.cost</field>
            <field name="arch" type="xml">
                <tree string="Vehicles">
                    <field name="department_id" />
                    <field name="costpmon" />
                </tree>
            </field>
        </record>
	
	 <record model="ir.actions.act_window" id="action_report_vehicle_cost_department_board">
            <field name="name">Most Expensive</field>
            <field name="res_model">report.vehicle.cost</field>
            <field name="view_type">form</field>
            <field name="limit">7</field>
            <field name="context">{}</field>
            <field name="view_id" eval="fleet_report_vehicle_cost_department_tree"/>
        </record>
         
        <record model='ir.ui.view' id='fleet_report_vehicle_cost_type_tree'>
            <field name="name">report.vehicle.cost.tree</field>
            <field name="model">report.vehicle.cost</field>
            <field name="arch" type="xml">
                <tree string="Vehicles">
                    <field name="type_id" />
                    <field name="costpmon" />
                </tree>
            </field>
        </record>
	
	 <record model="ir.actions.act_window" id="action_report_vehicle_cost_type_board">
            <field name="name">Most Expensive</field>
            <field name="res_model">report.vehicle.cost</field>
            <field name="view_type">form</field>
            <field name="limit">7</field>
            <field name="context">{}</field>
            <field name="view_id" eval="fleet_report_vehicle_cost_type_tree"/>
        </record>
        
        
        <record model='ir.ui.view' id='fleet_report_vehicle_issue_count_graph'>
            <field name="name">report.vehicle.issue.tree</field>
            <field name="model">report.vehicle.issue</field>
            <field name="arch" type="xml">
                <graph string="Issues by Vehicle" type="pivot" >
                	<field name="vehicle_id" />
                    <field name="nbr" operator="+" string="Issue Count"/>
	            </graph>
            </field>
        </record>
	
        

		<!--My Dashboard -->
		<record model="ir.ui.view" id="board_fleet_dash_view">
			<field name="name">Fleet Dashboard</field>
			<field name="model">board.board</field>
			<field name="arch" type="xml">
				<form string="Fleet Dashboard">
					<board style="1-1-1">
						<column>
							<action name="%(action_last_vehicle_issue_board)d" string="Lastest Vehicle Issues"/>	
						</column>
						<column>
							
						</column>
						<column>
							
							<action name="%(action_costkm_most_board)d" string="Operational Cost Analysis - Cost per KM"/>
							<action name="%(action_costmon_most_board)d" string="Operational Cost Analysis - Cost per Month"/>
							<action name="%(action_report_vehicle_cost_type_board)d" string="Operational Cost Analysis - Per Type per Month"/>
							<action name="%(action_report_vehicle_cost_department_board)d" string="Operational Cost Analysis - Per Department per Month"/>		
						</column>
						
					</board>
				</form>
			</field>
		</record>

		<!--My Dashboard Action -->
		<record model="ir.actions.act_window" id="open_board_fleet_dash_action">
			<field name="name">Fleet Statistics</field>
			<field name="res_model">board.board</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
			<field name="usage">menu</field>
			<field name="view_id" ref="board_fleet_dash_view" />
			<field name="help" type="html">
				<div class="oe_empty_custom_dashboard">
					<p>
						<b>The fleet dashboard is empty.</b>
					</p>
					<p>
						To add your first report into this dashboard, go to any
						menu, switch to list or graph view, and click
						<i>'Add to
							Dashboard'
						</i>
						in the extended search options.
					</p>
					<p>
						You can filter and group data before inserting into the
						dashboard using the search options.
					</p>
				</div>
			</field>
		</record>

		<!--My Dashboard Menu -->
		<menuitem id="menu_board_fleet_dash" parent="base.menu_reporting_dashboard"
			action="open_board_fleet_dash_action" sequence="6" />











	</data>
</openerp>
